<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>DLS 26 ⚽ Futuristic Premier League</title>

<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@300;500&display=swap" rel="stylesheet">

<style>
*{margin:0;padding:0;box-sizing:border-box}

body{
    background:linear-gradient(135deg,#0a0a0a,#1a0a2e,#16213e);
    color:#fff;
    font-family:'Rajdhani',sans-serif;
    min-height:100vh;
}

header{
    text-align:center;
    padding:25px;
    background:rgba(0,0,0,.7);
    border-bottom:2px solid #00ffff;
}

h1{
    font-family:'Orbitron',monospace;
    font-size:clamp(2rem,7vw,3.2rem);
    background:linear-gradient(45deg,#ff00ff,#00ffff,#ffff00);
    -webkit-background-clip:text;
    background-clip:text;
    color:transparent;
}

.container{
    max-width:1600px;
    margin:auto;
    padding:20px;
    display:grid;
    grid-template-columns:1fr;
    gap:30px;
}

section{
    background:rgba(0,0,0,.6);
    border-radius:20px;
    padding:25px;
    box-shadow:0 15px 40px rgba(0,0,0,.5);
}

h2{
    text-align:center;
    font-family:'Orbitron',monospace;
    margin-bottom:20px;
    color:#00ffff;
}

/* TABLE */
.table-wrapper{overflow-x:auto}
table{
    width:100%;
    border-collapse:collapse;
    min-width:650px;
}
th,td{
    padding:10px;
    border-bottom:1px solid #333;
    text-align:center;
}
.team-info{
    text-align:left;
}
.team-name{
    font-weight:700;
    cursor:pointer;
    color:#00ffff;
}
.team-name:hover{ text-decoration:underline }
.phone{
    font-size:.75rem;
    opacity:.7;
}

/* Selected team */
.selected{
    background:rgba(0,255,255,.15)!important;
}

/* FIXTURES */
.fixture-list{
    display:flex;
    flex-direction:column;
    gap:18px;
}
.fixture-card{
    border:2px solid #ff00ff;
    border-radius:15px;
    padding:18px;
    text-align:center;
}
.teams{
    display:flex;
    justify-content:space-between;
    align-items:center;
}
.vs{
    font-family:'Orbitron',monospace;
    font-size:1.6rem;
    color:#ffff00;
}
.home{color:#00ff88}
.away{color:#ff6b6b}

/* FILTER BUTTON */
.filter-bar{
    text-align:center;
    margin-bottom:15px;
}
.filter-btn{
    padding:8px 16px;
    border-radius:20px;
    border:none;
    font-weight:bold;
    cursor:pointer;
    background:#00ffff;
    color:#000;
}

.loading{text-align:center;padding:30px;color:#00ffff}

@media(min-width:900px){
    .container{grid-template-columns:1fr 1fr}
}
</style>
</head>

<body>

<header>
    <h1>DLS 26 ⚽ PREMIER LEAGUE</h1>
</header>

<div class="container">

<section>
    <h2>League Table</h2>
    <div class="loading" id="tableLoading">Loading table...</div>
    <div class="table-wrapper">
        <table id="leagueTable" style="display:none">
            <thead>
                <tr>
                    <th>POS</th>
                    <th>CLUB</th>
                    <th>MP</th>
                    <th>W</th>
                    <th>D</th>
                    <th>L</th>
                    <th>GF</th>
                    <th>GA</th>
                    <th>GD</th>
                    <th>PTS</th>
                </tr>
            </thead>
            <tbody id="tableBody"></tbody>
        </table>
    </div>
</section>

<section>
    <h2 id="fixtureTitle">All Fixtures</h2>
    <div class="filter-bar">
        <button class="filter-btn" onclick="clearFilter()">Show All Fixtures</button>
    </div>
    <div class="loading" id="fixtureLoading">Loading fixtures...</div>
    <div class="fixture-list" id="fixtureList"></div>
</section>

</div>

<script>
let DATA=null;
let activeTeam=null;

async function loadData(){
    const res=await fetch('data.json?'+Date.now());
    DATA=await res.json();
    DATA.teams.forEach(t=>{ if(!t.contact) t.contact="N/A" });
}

function sortTeams(){
    DATA.teams.sort((a,b)=>{
        if(b.pts!==a.pts) return b.pts-a.pts;
        if(b.gd!==a.gd) return b.gd-a.gd;
        return b.gf-a.gf;
    });
}

function renderTable(){
    sortTeams();
    const body=document.getElementById('tableBody');
    body.innerHTML='';
    DATA.teams.forEach((t,i)=>{
        body.innerHTML+=`
        <tr class="${activeTeam===t.name?'selected':''}">
            <td>${i+1}</td>
            <td class="team-info">
                <span class="team-name" onclick="selectTeam('${t.name}')">${t.name}</span>
                <div class="phone">${t.contact}</div>
            </td>
            <td>${t.p}</td>
            <td>${t.w}</td>
            <td>${t.d}</td>
            <td>${t.l}</td>
            <td>${t.gf}</td>
            <td>${t.ga}</td>
            <td>${t.gd}</td>
            <td>${t.pts}</td>
        </tr>`;
    });
    tableLoading.style.display="none";
    leagueTable.style.display="table";
}

function renderFixtures(){
    const list=document.getElementById('fixtureList');
    list.innerHTML='';
    let fixtures=DATA.fixtures;

    if(activeTeam){
        fixtures=fixtures.filter(f=>f.home===activeTeam||f.away===activeTeam);
        fixtureTitle.textContent=activeTeam+" Fixtures";
    }else{
        fixtureTitle.textContent="All Fixtures";
    }

    fixtures.forEach(f=>{
        const score=f.hgoals!==null?`${f.hgoals} - ${f.agoals}`:"VS";
        list.innerHTML+=`
        <div class="fixture-card">
            <div>${f.date} • ${f.time}</div>
            <div class="teams">
                <div class="home">${f.home}</div>
                <div class="vs">${score}</div>
                <div class="away">${f.away}</div>
            </div>
        </div>`;
    });

    fixtureLoading.style.display="none";
}

function selectTeam(name){
    activeTeam=name;
    renderTable();
    renderFixtures();
}

function clearFilter(){
    activeTeam=null;
    renderTable();
    renderFixtures();
}

window.onload=async()=>{
    await loadData();
    renderTable();
    renderFixtures();
};
</script>

</body>
   </html>
